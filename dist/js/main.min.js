"use strict";var firstName=document.querySelector("#first-name"),lastName=document.querySelector("#last-name"),pesel=document.querySelector("#pesel"),street=document.querySelector("#street"),flatNumber=document.querySelector("#flat-number"),city=document.querySelector("#city"),zipCode=document.querySelector("#zip"),phoneNumber=document.querySelector("#phone-number"),mail=document.querySelector("#mail"),profilPhoto=document.querySelector("#profil-photo"),voivodeship=document.querySelector("#voivodeship"),regulations=document.querySelector("#regulations"),allInputs=[firstName,lastName,pesel,street,flatNumber,city,zipCode,phoneNumber,mail],sendBtn=document.querySelector(".send"),clearBtn=document.querySelector(".clear"),closeModalBtn=document.querySelector(".close"),modal=document.querySelector(".modal-shadow");function clearAllInputs(e){e.preventDefault(),profilPhoto.value="",[firstName,lastName,pesel,street,flatNumber,city,zipCode,phoneNumber,mail,profilPhoto,voivodeship,regulations].forEach(function(e){e.value="",clearError(e)}),0!==voivodeship&&(voivodeship.value=0),modal.style.display="none",regulations.checked=!1}function checkInputsValue(e){e.forEach(function(e){""===e.value?showError(e,e.placeholder):clearError(e)})}function showError(e,r){var e=e.parentElement,t=e.querySelector(".error-text");e.classList.add("error"),t.textContent=r}function clearError(e){e.parentElement.classList.remove("error")}function checkPhotoInput(e){var r=e.parentElement,t=r.querySelector(".error-text");""===e.value?(r.classList.add("error"),t.textContent="Wybierz zdjęcie"):r.classList.remove("error")}function checkVoivodeshipInput(e){var r=e.parentElement,t=r.querySelector(".error-text");"0"===e.value?(r.classList.add("error"),t.textContent="Wybierz województwo"):r.classList.remove("error")}function checkRegulations(e){e.parentElement.querySelector(".error-text");e.checked?clearError(e):showError(e,e.placeholder)}function checkLength(e,r){e.value.length<r?showError(e,"".concat(e.previousElementSibling.textContent," musi składać się z ").concat(r," cyfr")):e.value.length>r&&showError(e,"".concat(e.previousElementSibling.textContent," jest za długi"))}function validZipCode(e){e.value.match(/^\d\d-\d\d\d$/)?clearError(e):showError(e,"".concat(e.previousElementSibling.textContent," powinieć wyglądać tak: NN-NNN"))}function validMail(e){/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,3}))$/.test(e.value)?clearError(e):showError(e,"E-mail jest niepoprawny")}function validLetters(e){var r=/^[A-Za-z]+$/;e.forEach(function(e){e.value.match(r)?clearError(e):""===e.value?showError(e,e.placeholder):showError(e,"".concat(e.previousElementSibling.textContent," nie może zawierać cyfr"))})}function validNumbers(e){e.value.match(/^\d+$/)?clearError(e):""===e.value?showError(e,e.placeholder):showError(e,"".concat(e.previousElementSibling.textContent," nie może zawierać liter"))}function checkErrors(){var e=document.querySelectorAll(".form-box"),r=0;e.forEach(function(e){e.classList.contains("error")&&r++}),0===r&&showModal(),console.log(r)}function showModal(){modal.style.display="block",modal.classList.add("modal-animation"),setTimeout(function(){modal.classList.remove("modal-animation")},400)}clearBtn.addEventListener("click",clearAllInputs),sendBtn.addEventListener("click",function(e){e.preventDefault(),checkInputsValue(allInputs),checkPhotoInput(profilPhoto),checkVoivodeshipInput(voivodeship),checkRegulations(regulations),checkLength(pesel,11),checkLength(phoneNumber,9),validZipCode(zipCode),validMail(mail),validLetters([firstName,lastName,city]),validNumbers(flatNumber),checkErrors()}),closeModalBtn.addEventListener("click",clearAllInputs),window.addEventListener("click",function(e){return e.target===modal&&(modal.style.display="none")});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiZmlyc3ROYW1lIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwibGFzdE5hbWUiLCJwZXNlbCIsInN0cmVldCIsImZsYXROdW1iZXIiLCJjaXR5IiwiemlwQ29kZSIsInBob25lTnVtYmVyIiwibWFpbCIsInByb2ZpbFBob3RvIiwicmVndWxhdGlvbnMiLCJjbGVhckVycm9yIiwiaW5wdXQiLCJjbGVhckJ0biIsImNsb3NlTW9kYWxCdG4iLCJ2b2l2b2Rlc2hpcCIsImNsZWFyQWxsSW5wdXRzIiwiZSIsIm1vZGFsIiwidmFsdWUiLCJmb3JtQm94IiwiZm9yRWFjaCIsImVycm9yVGV4dCIsImNsYXNzTGlzdCIsInRleHRDb250ZW50IiwicGFyZW50RWxlbWVudCIsInN0eWxlIiwiZGlzcGxheSIsImNoZWNrUGhvdG9JbnB1dCIsImNoZWNrSW5wdXRzVmFsdWUiLCJzaG93RXJyb3IiLCJlbCIsImFkZCIsIm1zZyIsInJlbW92ZSIsImNoZWNrZWQiLCJjaGVja1ZvaXZvZGVzaGlwSW5wdXQiLCJ2YWxpZFppcENvZGUiLCJjaGVja1JlZ3VsYXRpb25zIiwidmFsaWRNYWlsIiwicmUiLCJ0ZXN0IiwicGxhY2Vob2xkZXIiLCJ2YWxpZExldHRlcnMiLCJtaW5MZW5ndGgiLCJsZXR0ZXJzIiwibGVuZ3RoIiwiaW5wdXRzIiwiY29uY2F0IiwicHJldmlvdXNFbGVtZW50U2libGluZyIsIm51bWJlcnMiLCJtYXRjaCIsImNoZWNrRXJyb3JzIiwiZXJyb3JDb3VudGVyIiwiY29uc29sZSIsInNob3dNb2RhbCIsInNldFRpbWVvdXQiLCJhbGxJbnB1dHMiLCJjaGVja0xlbmd0aCIsInZhbGlkTnVtYmVycyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJjb250YWlucyIsImxvZyIsImFkZEV2ZW50TGlzdGVuZXIiLCJzZW5kQnRuIiwicHJldmVudERlZmF1bHQiLCJ3aW5kb3ciLCJ0YXJnZXQiXSwibWFwcGluZ3MiOiJhQUFBLElBQU1BLFVB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QkFHSnRDLGNBQWNpRCxpQkFBaUIsUUFBUy9DLGdCQUN4Q2tELE9BQU9ILGlCQUFpQixRQUFTLFNBQUE5QyxHQUFDLE9BQUlBLEVBQUVrRCxTQUFXakQsUUFBU0EsTUFBTVEsTUFBTUMsUUFBVSIsImZpbGUiOiJtYWluLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGZpcnN0TmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNmaXJzdC1uYW1lJyk7XG5jb25zdCBsYXN0TmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNsYXN0LW5hbWUnKTtcbmNvbnN0IHBlc2VsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Blc2VsJyk7XG5jb25zdCBzdHJlZXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjc3RyZWV0Jyk7XG5jb25zdCBmbGF0TnVtYmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2ZsYXQtbnVtYmVyJyk7XG5jb25zdCBjaXR5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2NpdHknKTtcbmNvbnN0IHppcENvZGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjemlwJyk7XG5jb25zdCBwaG9uZU51bWJlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNwaG9uZS1udW1iZXInKTtcbmNvbnN0IG1haWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbWFpbCcpO1xuY29uc3QgcHJvZmlsUGhvdG8gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcHJvZmlsLXBob3RvJyk7XG5jb25zdCB2b2l2b2Rlc2hpcCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN2b2l2b2Rlc2hpcCcpO1xuY29uc3QgcmVndWxhdGlvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcmVndWxhdGlvbnMnKTtcblxuY29uc3QgYWxsSW5wdXRzID0gW1xuXHRmaXJzdE5hbWUsXG5cdGxhc3ROYW1lLFxuXHRwZXNlbCxcblx0c3RyZWV0LFxuXHRmbGF0TnVtYmVyLFxuXHRjaXR5LFxuXHR6aXBDb2RlLFxuXHRwaG9uZU51bWJlcixcblx0bWFpbCxcbl07XG5cbmNvbnN0IHNlbmRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2VuZCcpO1xuY29uc3QgY2xlYXJCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2xlYXInKTtcbmNvbnN0IGNsb3NlTW9kYWxCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2xvc2UnKTtcblxuY29uc3QgbW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9kYWwtc2hhZG93Jyk7XG5cbmZ1bmN0aW9uIGNsZWFyQWxsSW5wdXRzKGUpIHtcblx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG5cdHByb2ZpbFBob3RvLnZhbHVlID0gJyc7XG5cdFtcblx0XHRmaXJzdE5hbWUsXG5cdFx0bGFzdE5hbWUsXG5cdFx0cGVzZWwsXG5cdFx0c3RyZWV0LFxuXHRcdGZsYXROdW1iZXIsXG5cdFx0Y2l0eSxcblx0XHR6aXBDb2RlLFxuXHRcdHBob25lTnVtYmVyLFxuXHRcdG1haWwsXG5cdFx0cHJvZmlsUGhvdG8sXG5cdFx0dm9pdm9kZXNoaXAsXG4gICAgICAgIHJlZ3VsYXRpb25zXG5cdF0uZm9yRWFjaCgoaW5wdXQpID0+IHtcblx0XHRpbnB1dC52YWx1ZSA9ICcnO1xuXHRcdGNsZWFyRXJyb3IoaW5wdXQpO1xuXHR9KTtcblxuXHRpZiAodm9pdm9kZXNoaXAgIT09IDApIHtcblx0XHR2b2l2b2Rlc2hpcC52YWx1ZSA9IDA7XG5cdH1cblxuICAgIG1vZGFsLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgcmVndWxhdGlvbnMuY2hlY2tlZCA9IGZhbHNlO1xufVxuXG5mdW5jdGlvbiBjaGVja0lucHV0c1ZhbHVlKGlucHV0KSB7XG5cdGlucHV0LmZvckVhY2goKGVsKSA9PiB7XG5cdFx0aWYgKGVsLnZhbHVlID09PSAnJykge1xuXHRcdFx0c2hvd0Vycm9yKGVsLCBlbC5wbGFjZWhvbGRlcik7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGNsZWFyRXJyb3IoZWwpO1xuXHRcdH1cblx0fSk7XG59XG5cbmZ1bmN0aW9uIHNob3dFcnJvcihpbnB1dCwgbXNnKSB7XG5cdGNvbnN0IGZvcm1Cb3ggPSBpbnB1dC5wYXJlbnRFbGVtZW50O1xuXHRjb25zdCBlcnJvclRleHQgPSBmb3JtQm94LnF1ZXJ5U2VsZWN0b3IoJy5lcnJvci10ZXh0Jyk7XG5cblx0Zm9ybUJveC5jbGFzc0xpc3QuYWRkKCdlcnJvcicpO1xuXHRlcnJvclRleHQudGV4dENvbnRlbnQgPSBtc2c7XG59XG5cbmZ1bmN0aW9uIGNsZWFyRXJyb3IoaW5wdXQpIHtcblx0Y29uc3QgZm9ybUJveCA9IGlucHV0LnBhcmVudEVsZW1lbnQ7XG5cdGZvcm1Cb3guY2xhc3NMaXN0LnJlbW92ZSgnZXJyb3InKTtcbn1cblxuZnVuY3Rpb24gY2hlY2tQaG90b0lucHV0KGlucHV0KSB7XG5cdGNvbnN0IGZvcm1Cb3ggPSBpbnB1dC5wYXJlbnRFbGVtZW50O1xuXHRjb25zdCBlcnJvclRleHQgPSBmb3JtQm94LnF1ZXJ5U2VsZWN0b3IoJy5lcnJvci10ZXh0Jyk7XG5cblx0aWYgKGlucHV0LnZhbHVlID09PSAnJykge1xuXHRcdGZvcm1Cb3guY2xhc3NMaXN0LmFkZCgnZXJyb3InKTtcblx0XHRlcnJvclRleHQudGV4dENvbnRlbnQgPSBgV3liaWVyeiB6ZGrEmWNpZWA7XG5cdH0gZWxzZSB7XG5cdFx0Zm9ybUJveC5jbGFzc0xpc3QucmVtb3ZlKCdlcnJvcicpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIGNoZWNrVm9pdm9kZXNoaXBJbnB1dChpbnB1dCkge1xuXHRjb25zdCBmb3JtQm94ID0gaW5wdXQucGFyZW50RWxlbWVudDtcblx0Y29uc3QgZXJyb3JUZXh0ID0gZm9ybUJveC5xdWVyeVNlbGVjdG9yKCcuZXJyb3ItdGV4dCcpO1xuXG5cdGlmIChpbnB1dC52YWx1ZSA9PT0gJzAnKSB7XG5cdFx0Zm9ybUJveC5jbGFzc0xpc3QuYWRkKCdlcnJvcicpO1xuXHRcdGVycm9yVGV4dC50ZXh0Q29udGVudCA9IGBXeWJpZXJ6IHdvamV3w7NkenR3b2A7XG5cdH0gZWxzZSB7XG5cdFx0Zm9ybUJveC5jbGFzc0xpc3QucmVtb3ZlKCdlcnJvcicpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIGNoZWNrUmVndWxhdGlvbnMoaW5wdXQpIHtcblx0Y29uc3QgZm9ybUJveCA9IGlucHV0LnBhcmVudEVsZW1lbnQ7XG5cdGNvbnN0IGVycm9yVGV4dCA9IGZvcm1Cb3gucXVlcnlTZWxlY3RvcignLmVycm9yLXRleHQnKTtcblxuXHRpZiAoIWlucHV0LmNoZWNrZWQpIHtcbiAgICAgICAgc2hvd0Vycm9yKGlucHV0LCBpbnB1dC5wbGFjZWhvbGRlcilcblx0fSBlbHNlIHtcbiAgICAgICAgY2xlYXJFcnJvcihpbnB1dClcblx0fVxufVxuXG5mdW5jdGlvbiBjaGVja0xlbmd0aChpbnB1dCwgbWluTGVuZ3RoKSB7XG5cdGlmIChpbnB1dC52YWx1ZS5sZW5ndGggPCBtaW5MZW5ndGgpIHtcblx0XHRzaG93RXJyb3IoXG5cdFx0XHRpbnB1dCxcblx0XHRcdGAke2lucHV0LnByZXZpb3VzRWxlbWVudFNpYmxpbmcudGV4dENvbnRlbnR9IG11c2kgc2vFgmFkYcSHIHNpxJkgeiAke21pbkxlbmd0aH0gY3lmcmBcblx0XHQpO1xuXHR9IGVsc2UgaWYgKGlucHV0LnZhbHVlLmxlbmd0aCA+IG1pbkxlbmd0aCkge1xuXHRcdHNob3dFcnJvcihcblx0XHRcdGlucHV0LFxuXHRcdFx0YCR7aW5wdXQucHJldmlvdXNFbGVtZW50U2libGluZy50ZXh0Q29udGVudH0gamVzdCB6YSBkxYJ1Z2lgXG5cdFx0KTtcblx0fVxufVxuXG5mdW5jdGlvbiB2YWxpZFppcENvZGUoaW5wdXQpIHtcblx0aWYgKCFpbnB1dC52YWx1ZS5tYXRjaCgvXlxcZFxcZC1cXGRcXGRcXGQkLykpIHtcblx0XHRzaG93RXJyb3IoXG5cdFx0XHRpbnB1dCxcblx0XHRcdGAke2lucHV0LnByZXZpb3VzRWxlbWVudFNpYmxpbmcudGV4dENvbnRlbnR9IHBvd2luaWXEhyB3eWdsxIVkYcSHIHRhazogTk4tTk5OYFxuXHRcdCk7XG5cdH0gZWxzZSB7XG5cdFx0Y2xlYXJFcnJvcihpbnB1dCk7XG5cdH1cbn1cblxuZnVuY3Rpb24gdmFsaWRNYWlsKG1haWwpIHtcblx0Y29uc3QgcmUgPVxuXHRcdC9eKChbXjw+KClcXFtcXF1cXFxcLiw7Olxcc0BcIl0rKFxcLltePD4oKVxcW1xcXVxcXFwuLDs6XFxzQFwiXSspKil8KFwiLitcIikpQCgoXFxbWzAtOV17MSwzfVxcLlswLTldezEsM31cXC5bMC05XXsxLDN9XFwuWzAtOV17MSwzfVxcXSl8KChbYS16QS1aXFwtMC05XStcXC4pK1thLXpBLVpdezIsM30pKSQvO1xuXG5cdGlmIChyZS50ZXN0KG1haWwudmFsdWUpKSB7XG5cdFx0Y2xlYXJFcnJvcihtYWlsKTtcblx0fSBlbHNlIHtcblx0XHRzaG93RXJyb3IobWFpbCwgJ0UtbWFpbCBqZXN0IG5pZXBvcHJhd255Jyk7XG5cdH1cbn1cblxuZnVuY3Rpb24gdmFsaWRMZXR0ZXJzKGlucHV0cykge1xuXHRjb25zdCBsZXR0ZXJzID0gL15bQS1aYS16XSskLztcblx0aW5wdXRzLmZvckVhY2goKGlucHV0KSA9PiB7XG5cdFx0aWYgKGlucHV0LnZhbHVlLm1hdGNoKGxldHRlcnMpKSB7XG5cdFx0XHRjbGVhckVycm9yKGlucHV0KTtcblx0XHR9IGVsc2UgaWYgKGlucHV0LnZhbHVlID09PSAnJykge1xuXHRcdFx0c2hvd0Vycm9yKGlucHV0LCBpbnB1dC5wbGFjZWhvbGRlcik7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHNob3dFcnJvcihcblx0XHRcdFx0aW5wdXQsXG5cdFx0XHRcdGAke2lucHV0LnByZXZpb3VzRWxlbWVudFNpYmxpbmcudGV4dENvbnRlbnR9IG5pZSBtb8W8ZSB6YXdpZXJhxIcgY3lmcmBcblx0XHRcdCk7XG5cdFx0fVxuXHR9KTtcbn1cblxuZnVuY3Rpb24gdmFsaWROdW1iZXJzKGlucHV0KSB7XG5cdGNvbnN0IG51bWJlcnMgPSAvXlxcZCskLztcblxuXHRpZiAoaW5wdXQudmFsdWUubWF0Y2gobnVtYmVycykpIHtcblx0XHRjbGVhckVycm9yKGlucHV0KTtcblx0fSBlbHNlIGlmIChpbnB1dC52YWx1ZSA9PT0gJycpIHtcblx0XHRzaG93RXJyb3IoaW5wdXQsIGlucHV0LnBsYWNlaG9sZGVyKTtcblx0fSBlbHNlIHtcblx0XHRzaG93RXJyb3IoXG5cdFx0XHRpbnB1dCxcblx0XHRcdGAke2lucHV0LnByZXZpb3VzRWxlbWVudFNpYmxpbmcudGV4dENvbnRlbnR9IG5pZSBtb8W8ZSB6YXdpZXJhxIcgbGl0ZXJgXG5cdFx0KTtcblx0fVxufVxuXG5mdW5jdGlvbiBjaGVja0Vycm9ycyAoKSB7XG4gICAgY29uc3QgYWxsSW5wdXRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmZvcm0tYm94Jyk7XG4gICAgbGV0IGVycm9yQ291bnRlciA9IDA7XG5cbiAgICBhbGxJbnB1dHMuZm9yRWFjaChpbnB1dCA9PiB7XG4gICAgICAgIGlmKGlucHV0LmNsYXNzTGlzdC5jb250YWlucygnZXJyb3InKSl7XG4gICAgICAgICAgICBlcnJvckNvdW50ZXIrK1xuICAgICAgICB9XG4gICAgfSlcblxuICAgIGlmKGVycm9yQ291bnRlciA9PT0gMCkge1xuICAgICAgICBzaG93TW9kYWwoKVxuICAgIH1cbiAgICBjb25zb2xlLmxvZyhlcnJvckNvdW50ZXIpO1xufVxuXG5mdW5jdGlvbiBzaG93TW9kYWwoKSB7XG4gICBtb2RhbC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgIG1vZGFsLmNsYXNzTGlzdC5hZGQoJ21vZGFsLWFuaW1hdGlvbicpXG4gICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICBtb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdtb2RhbC1hbmltYXRpb24nKTtcbn0sIDQwMCk7XG59XG5cbmNsZWFyQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xlYXJBbGxJbnB1dHMpO1xuXG5zZW5kQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcblx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRjaGVja0lucHV0c1ZhbHVlKGFsbElucHV0cyk7XG5cdGNoZWNrUGhvdG9JbnB1dChwcm9maWxQaG90byk7XG5cdGNoZWNrVm9pdm9kZXNoaXBJbnB1dCh2b2l2b2Rlc2hpcCk7XG5cdGNoZWNrUmVndWxhdGlvbnMocmVndWxhdGlvbnMpO1xuXHRjaGVja0xlbmd0aChwZXNlbCwgMTEpOyBcblx0Y2hlY2tMZW5ndGgocGhvbmVOdW1iZXIsIDkpO1xuXHR2YWxpZFppcENvZGUoemlwQ29kZSk7XG5cdHZhbGlkTWFpbChtYWlsKTtcblx0dmFsaWRMZXR0ZXJzKFtmaXJzdE5hbWUsIGxhc3ROYW1lLCBjaXR5XSk7XG5cdHZhbGlkTnVtYmVycyhmbGF0TnVtYmVyKTtcbiAgICBjaGVja0Vycm9ycygpO1xufSk7XG5cbmNsb3NlTW9kYWxCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbGVhckFsbElucHV0cylcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4gZS50YXJnZXQgPT09IG1vZGFsID8gIG1vZGFsLnN0eWxlLmRpc3BsYXkgPSAnbm9uZScgOiBmYWxzZSkiXX0=
