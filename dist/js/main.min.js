"use strict";var firstName=document.querySelector("#first-name"),lastName=document.querySelector("#last-name"),pesel=document.querySelector("#pesel"),street=document.querySelector("#street"),flatNumber=document.querySelector("#flat-number"),city=document.querySelector("#city"),zipCode=document.querySelector("#zip"),phoneNumber=document.querySelector("#phone-number"),mail=document.querySelector("#mail"),profilPhoto=document.querySelector("#profil-photo"),voivodeship=document.querySelector("#voivodeship"),regulations=document.querySelector("#regulations"),Inputs=[firstName,lastName,pesel,street,flatNumber,city,zipCode,phoneNumber,mail],sendBtn=document.querySelector(".send"),clearBtn=document.querySelector(".clear"),closeModalBtn=document.querySelector(".close"),modal=document.querySelector(".modal-shadow");function clearAllInputs(e){e.preventDefault(),profilPhoto.value="",0!==voivodeship&&(voivodeship.value=0),modal.style.display="none",regulations.checked=!1,[firstName,lastName,pesel,street,flatNumber,city,zipCode,phoneNumber,mail,profilPhoto,voivodeship,regulations].forEach(function(e){e.value="",clearError(e)})}function checkInputsValue(e){e.forEach(function(e){""===e.value?showError(e,e.placeholder):clearError(e)})}function showError(e,r){var e=e.parentElement,t=e.querySelector(".error-text");e.classList.add("error"),t.textContent=r}function clearError(e){e.parentElement.classList.remove("error")}function checkPhotoInput(e){var r=e.parentElement,t=r.querySelector(".error-text");""===e.value?(r.classList.add("error"),t.textContent="Wybierz zdjęcie"):r.classList.remove("error")}function checkVoivodeshipInput(e){var r=e.parentElement,t=r.querySelector(".error-text");"0"===e.value?(r.classList.add("error"),t.textContent="Wybierz województwo"):r.classList.remove("error")}function checkRegulations(e){e.parentElement.querySelector(".error-text");e.checked?clearError(e):showError(e,e.placeholder)}function checkLength(e,r){e.value.length<r?showError(e,"".concat(e.previousElementSibling.textContent," musi składać się z ").concat(r," cyfr")):e.value.length>r&&showError(e,"".concat(e.previousElementSibling.textContent," jest za długi"))}function validZipCode(e){e.value.match(/^\d\d-\d\d\d$/)?clearError(e):showError(e,"".concat(e.previousElementSibling.textContent," powinieć wyglądać tak: NN-NNN"))}function validMail(e){/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,3}))$/.test(e.value)?clearError(e):showError(e,"E-mail jest niepoprawny")}function validLetters(e){var r=/^[A-Za-z]+$/;e.forEach(function(e){e.value.match(r)?clearError(e):""===e.value?showError(e,e.placeholder):showError(e,"".concat(e.previousElementSibling.textContent," nie może zawierać cyfr"))})}function validNumbers(e){e.value.match(/^\d+$/)?clearError(e):""===e.value?showError(e,e.placeholder):showError(e,"".concat(e.previousElementSibling.textContent," nie może zawierać liter"))}function checkErrors(){var e=document.querySelectorAll(".form-box"),r=0;e.forEach(function(e){e.classList.contains("error")&&r++}),0===r&&showModal(),console.log(r)}function showModal(){modal.style.display="block",modal.classList.add("modal-animation"),setTimeout(function(){modal.classList.remove("modal-animation")},400)}clearBtn.addEventListener("click",clearAllInputs),sendBtn.addEventListener("click",function(e){e.preventDefault(),checkInputsValue(Inputs),checkPhotoInput(profilPhoto),checkVoivodeshipInput(voivodeship),checkRegulations(regulations),checkLength(pesel,11),checkLength(phoneNumber,9),validZipCode(zipCode),validMail(mail),validLetters([firstName,lastName,city]),validNumbers(flatNumber),checkErrors()}),closeModalBtn.addEventListener("click",clearAllInputs),window.addEventListener("click",function(e){return e.target===modal&&(modal.style.display="none")});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiZmlyc3ROYW1lIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwibGFzdE5hbWUiLCJwZXNlbCIsInN0cmVldCIsImZsYXROdW1iZXIiLCJjaXR5IiwiemlwQ29kZSIsInBob25lTnVtYmVyIiwibWFpbCIsInByb2ZpbFBob3RvIiwicmVndWxhdGlvbnMiLCJ2b2l2b2Rlc2hpcCIsInZhbHVlIiwiY2xlYXJCdG4iLCJjbG9zZU1vZGFsQnRuIiwiY2hlY2tlZCIsImNsZWFyQWxsSW5wdXRzIiwiZSIsInByZXZlbnREZWZhdWx0IiwiY2hlY2tJbnB1dHNWYWx1ZSIsIm1vZGFsIiwic2hvd0Vycm9yIiwicGxhY2Vob2xkZXIiLCJmb3JtQm94IiwiZXJyb3JUZXh0IiwiY2xhc3NMaXN0IiwiaW5wdXQiLCJjbGVhckVycm9yIiwiZWwiLCJ0ZXh0Q29udGVudCIsInBhcmVudEVsZW1lbnQiLCJhZGQiLCJtc2ciLCJyZW1vdmUiLCJjaGVja1ZvaXZvZGVzaGlwSW5wdXQiLCJ2YWxpZFppcENvZGUiLCJjaGVja1JlZ3VsYXRpb25zIiwidmFsaWRNYWlsIiwicmUiLCJ0ZXN0IiwidmFsaWRMZXR0ZXJzIiwibWluTGVuZ3RoIiwibGV0dGVycyIsImxlbmd0aCIsImlucHV0cyIsImZvckVhY2giLCJjb25jYXQiLCJwcmV2aW91c0VsZW1lbnRTaWJsaW5nIiwibnVtYmVycyIsIm1hdGNoIiwiY2hlY2tFcnJvcnMiLCJlcnJvckNvdW50ZXIiLCJjb25zb2xlIiwic2hvd01vZGFsIiwiZGlzcGxheSIsInNldFRpbWVvdXQiLCJJbnB1dHMiLCJjaGVja0xlbmd0aCIsInZhbGlkTnVtYmVycyIsImFsbElucHV0cyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJjb250YWlucyIsImxvZyIsInN0eWxlIiwiYWRkRXZlbnRMaXN0ZW5lciIsInNlbmRCdG4iLCJjaGVja1Bob3RvSW5wdXQiLCJ3aW5kb3ciLCJ0YXJnZXQiXSwibWFwcGluZ3MiOiJhQUFB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QUFja0QsaUJBQWlCLFFBQVNoRCxnQkFDeENtRCxPQUFPSCxpQkFBaUIsUUFBUyxTQUFDL0MsR0FBRCxPQUNoQ0EsRUFBRW1ELFNBQVdoRCxRQUFTQSxNQUFNMkMsTUFBTVQsUUFBVSIsImZpbGUiOiJtYWluLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGZpcnN0TmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNmaXJzdC1uYW1lJyk7XG5jb25zdCBsYXN0TmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNsYXN0LW5hbWUnKTtcbmNvbnN0IHBlc2VsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Blc2VsJyk7XG5jb25zdCBzdHJlZXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjc3RyZWV0Jyk7XG5jb25zdCBmbGF0TnVtYmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2ZsYXQtbnVtYmVyJyk7XG5jb25zdCBjaXR5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2NpdHknKTtcbmNvbnN0IHppcENvZGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjemlwJyk7XG5jb25zdCBwaG9uZU51bWJlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNwaG9uZS1udW1iZXInKTtcbmNvbnN0IG1haWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbWFpbCcpO1xuY29uc3QgcHJvZmlsUGhvdG8gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcHJvZmlsLXBob3RvJyk7XG5jb25zdCB2b2l2b2Rlc2hpcCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN2b2l2b2Rlc2hpcCcpO1xuY29uc3QgcmVndWxhdGlvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcmVndWxhdGlvbnMnKTtcblxuY29uc3QgSW5wdXRzID0gW1xuXHRmaXJzdE5hbWUsXG5cdGxhc3ROYW1lLFxuXHRwZXNlbCxcblx0c3RyZWV0LFxuXHRmbGF0TnVtYmVyLFxuXHRjaXR5LFxuXHR6aXBDb2RlLFxuXHRwaG9uZU51bWJlcixcblx0bWFpbCxcbl07XG5cbmNvbnN0IHNlbmRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2VuZCcpO1xuY29uc3QgY2xlYXJCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2xlYXInKTtcbmNvbnN0IGNsb3NlTW9kYWxCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2xvc2UnKTtcblxuY29uc3QgbW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9kYWwtc2hhZG93Jyk7XG5cbmZ1bmN0aW9uIGNsZWFyQWxsSW5wdXRzKGUpIHtcblx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRwcm9maWxQaG90by52YWx1ZSA9ICcnO1xuICAgIFxuXHRpZiAodm9pdm9kZXNoaXAgIT09IDApIHtcblx0XHR2b2l2b2Rlc2hpcC52YWx1ZSA9IDA7XG5cdH1cblxuXHRtb2RhbC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuXHRyZWd1bGF0aW9ucy5jaGVja2VkID0gZmFsc2U7XG5cblx0W1xuXHRcdGZpcnN0TmFtZSxcblx0XHRsYXN0TmFtZSxcblx0XHRwZXNlbCxcblx0XHRzdHJlZXQsXG5cdFx0ZmxhdE51bWJlcixcblx0XHRjaXR5LFxuXHRcdHppcENvZGUsXG5cdFx0cGhvbmVOdW1iZXIsXG5cdFx0bWFpbCxcblx0XHRwcm9maWxQaG90byxcblx0XHR2b2l2b2Rlc2hpcCxcblx0XHRyZWd1bGF0aW9ucyxcblx0XS5mb3JFYWNoKChpbnB1dCkgPT4ge1xuXHRcdGlucHV0LnZhbHVlID0gJyc7XG5cdFx0Y2xlYXJFcnJvcihpbnB1dCk7XG5cdH0pO1xufVxuXG5mdW5jdGlvbiBjaGVja0lucHV0c1ZhbHVlKGlucHV0KSB7XG5cdGlucHV0LmZvckVhY2goKGVsKSA9PiB7XG5cdFx0aWYgKGVsLnZhbHVlID09PSAnJykge1xuXHRcdFx0c2hvd0Vycm9yKGVsLCBlbC5wbGFjZWhvbGRlcik7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGNsZWFyRXJyb3IoZWwpO1xuXHRcdH1cblx0fSk7XG59XG5cbmZ1bmN0aW9uIHNob3dFcnJvcihpbnB1dCwgbXNnKSB7XG5cdGNvbnN0IGZvcm1Cb3ggPSBpbnB1dC5wYXJlbnRFbGVtZW50O1xuXHRjb25zdCBlcnJvclRleHQgPSBmb3JtQm94LnF1ZXJ5U2VsZWN0b3IoJy5lcnJvci10ZXh0Jyk7XG5cblx0Zm9ybUJveC5jbGFzc0xpc3QuYWRkKCdlcnJvcicpO1xuXHRlcnJvclRleHQudGV4dENvbnRlbnQgPSBtc2c7XG59XG5cbmZ1bmN0aW9uIGNsZWFyRXJyb3IoaW5wdXQpIHtcblx0Y29uc3QgZm9ybUJveCA9IGlucHV0LnBhcmVudEVsZW1lbnQ7XG5cdGZvcm1Cb3guY2xhc3NMaXN0LnJlbW92ZSgnZXJyb3InKTtcbn1cblxuZnVuY3Rpb24gY2hlY2tQaG90b0lucHV0KGlucHV0KSB7XG5cdGNvbnN0IGZvcm1Cb3ggPSBpbnB1dC5wYXJlbnRFbGVtZW50O1xuXHRjb25zdCBlcnJvclRleHQgPSBmb3JtQm94LnF1ZXJ5U2VsZWN0b3IoJy5lcnJvci10ZXh0Jyk7XG5cblx0aWYgKGlucHV0LnZhbHVlID09PSAnJykge1xuXHRcdGZvcm1Cb3guY2xhc3NMaXN0LmFkZCgnZXJyb3InKTtcblx0XHRlcnJvclRleHQudGV4dENvbnRlbnQgPSBgV3liaWVyeiB6ZGrEmWNpZWA7XG5cdH0gZWxzZSB7XG5cdFx0Zm9ybUJveC5jbGFzc0xpc3QucmVtb3ZlKCdlcnJvcicpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIGNoZWNrVm9pdm9kZXNoaXBJbnB1dChpbnB1dCkge1xuXHRjb25zdCBmb3JtQm94ID0gaW5wdXQucGFyZW50RWxlbWVudDtcblx0Y29uc3QgZXJyb3JUZXh0ID0gZm9ybUJveC5xdWVyeVNlbGVjdG9yKCcuZXJyb3ItdGV4dCcpO1xuXG5cdGlmIChpbnB1dC52YWx1ZSA9PT0gJzAnKSB7XG5cdFx0Zm9ybUJveC5jbGFzc0xpc3QuYWRkKCdlcnJvcicpO1xuXHRcdGVycm9yVGV4dC50ZXh0Q29udGVudCA9IGBXeWJpZXJ6IHdvamV3w7NkenR3b2A7XG5cdH0gZWxzZSB7XG5cdFx0Zm9ybUJveC5jbGFzc0xpc3QucmVtb3ZlKCdlcnJvcicpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIGNoZWNrUmVndWxhdGlvbnMoaW5wdXQpIHtcblx0Y29uc3QgZm9ybUJveCA9IGlucHV0LnBhcmVudEVsZW1lbnQ7XG5cdGNvbnN0IGVycm9yVGV4dCA9IGZvcm1Cb3gucXVlcnlTZWxlY3RvcignLmVycm9yLXRleHQnKTtcblxuXHRpZiAoIWlucHV0LmNoZWNrZWQpIHtcblx0XHRzaG93RXJyb3IoaW5wdXQsIGlucHV0LnBsYWNlaG9sZGVyKTtcblx0fSBlbHNlIHtcblx0XHRjbGVhckVycm9yKGlucHV0KTtcblx0fVxufVxuXG5mdW5jdGlvbiBjaGVja0xlbmd0aChpbnB1dCwgbWluTGVuZ3RoKSB7XG5cdGlmIChpbnB1dC52YWx1ZS5sZW5ndGggPCBtaW5MZW5ndGgpIHtcblx0XHRzaG93RXJyb3IoXG5cdFx0XHRpbnB1dCxcblx0XHRcdGAke2lucHV0LnByZXZpb3VzRWxlbWVudFNpYmxpbmcudGV4dENvbnRlbnR9IG11c2kgc2vFgmFkYcSHIHNpxJkgeiAke21pbkxlbmd0aH0gY3lmcmBcblx0XHQpO1xuXHR9IGVsc2UgaWYgKGlucHV0LnZhbHVlLmxlbmd0aCA+IG1pbkxlbmd0aCkge1xuXHRcdHNob3dFcnJvcihcblx0XHRcdGlucHV0LFxuXHRcdFx0YCR7aW5wdXQucHJldmlvdXNFbGVtZW50U2libGluZy50ZXh0Q29udGVudH0gamVzdCB6YSBkxYJ1Z2lgXG5cdFx0KTtcblx0fVxufVxuXG5mdW5jdGlvbiB2YWxpZFppcENvZGUoaW5wdXQpIHtcblx0aWYgKCFpbnB1dC52YWx1ZS5tYXRjaCgvXlxcZFxcZC1cXGRcXGRcXGQkLykpIHtcblx0XHRzaG93RXJyb3IoXG5cdFx0XHRpbnB1dCxcblx0XHRcdGAke2lucHV0LnByZXZpb3VzRWxlbWVudFNpYmxpbmcudGV4dENvbnRlbnR9IHBvd2luaWXEhyB3eWdsxIVkYcSHIHRhazogTk4tTk5OYFxuXHRcdCk7XG5cdH0gZWxzZSB7XG5cdFx0Y2xlYXJFcnJvcihpbnB1dCk7XG5cdH1cbn1cblxuZnVuY3Rpb24gdmFsaWRNYWlsKG1haWwpIHtcblx0Y29uc3QgcmUgPVxuXHRcdC9eKChbXjw+KClcXFtcXF1cXFxcLiw7Olxcc0BcIl0rKFxcLltePD4oKVxcW1xcXVxcXFwuLDs6XFxzQFwiXSspKil8KFwiLitcIikpQCgoXFxbWzAtOV17MSwzfVxcLlswLTldezEsM31cXC5bMC05XXsxLDN9XFwuWzAtOV17MSwzfVxcXSl8KChbYS16QS1aXFwtMC05XStcXC4pK1thLXpBLVpdezIsM30pKSQvO1xuXG5cdGlmIChyZS50ZXN0KG1haWwudmFsdWUpKSB7XG5cdFx0Y2xlYXJFcnJvcihtYWlsKTtcblx0fSBlbHNlIHtcblx0XHRzaG93RXJyb3IobWFpbCwgJ0UtbWFpbCBqZXN0IG5pZXBvcHJhd255Jyk7XG5cdH1cbn1cblxuZnVuY3Rpb24gdmFsaWRMZXR0ZXJzKGlucHV0cykge1xuXHRjb25zdCBsZXR0ZXJzID0gL15bQS1aYS16XSskLztcblx0aW5wdXRzLmZvckVhY2goKGlucHV0KSA9PiB7XG5cdFx0aWYgKGlucHV0LnZhbHVlLm1hdGNoKGxldHRlcnMpKSB7XG5cdFx0XHRjbGVhckVycm9yKGlucHV0KTtcblx0XHR9IGVsc2UgaWYgKGlucHV0LnZhbHVlID09PSAnJykge1xuXHRcdFx0c2hvd0Vycm9yKGlucHV0LCBpbnB1dC5wbGFjZWhvbGRlcik7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHNob3dFcnJvcihcblx0XHRcdFx0aW5wdXQsXG5cdFx0XHRcdGAke2lucHV0LnByZXZpb3VzRWxlbWVudFNpYmxpbmcudGV4dENvbnRlbnR9IG5pZSBtb8W8ZSB6YXdpZXJhxIcgY3lmcmBcblx0XHRcdCk7XG5cdFx0fVxuXHR9KTtcbn1cblxuZnVuY3Rpb24gdmFsaWROdW1iZXJzKGlucHV0KSB7XG5cdGNvbnN0IG51bWJlcnMgPSAvXlxcZCskLztcblxuXHRpZiAoaW5wdXQudmFsdWUubWF0Y2gobnVtYmVycykpIHtcblx0XHRjbGVhckVycm9yKGlucHV0KTtcblx0fSBlbHNlIGlmIChpbnB1dC52YWx1ZSA9PT0gJycpIHtcblx0XHRzaG93RXJyb3IoaW5wdXQsIGlucHV0LnBsYWNlaG9sZGVyKTtcblx0fSBlbHNlIHtcblx0XHRzaG93RXJyb3IoXG5cdFx0XHRpbnB1dCxcblx0XHRcdGAke2lucHV0LnByZXZpb3VzRWxlbWVudFNpYmxpbmcudGV4dENvbnRlbnR9IG5pZSBtb8W8ZSB6YXdpZXJhxIcgbGl0ZXJgXG5cdFx0KTtcblx0fVxufVxuXG5mdW5jdGlvbiBjaGVja0Vycm9ycygpIHtcblx0Y29uc3QgYWxsSW5wdXRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmZvcm0tYm94Jyk7XG5cdGxldCBlcnJvckNvdW50ZXIgPSAwO1xuXG5cdGFsbElucHV0cy5mb3JFYWNoKChpbnB1dCkgPT4ge1xuXHRcdGlmIChpbnB1dC5jbGFzc0xpc3QuY29udGFpbnMoJ2Vycm9yJykpIHtcblx0XHRcdGVycm9yQ291bnRlcisrO1xuXHRcdH1cblx0fSk7XG5cblx0aWYgKGVycm9yQ291bnRlciA9PT0gMCkge1xuXHRcdHNob3dNb2RhbCgpO1xuXHR9XG5cdGNvbnNvbGUubG9nKGVycm9yQ291bnRlcik7XG59XG5cbmZ1bmN0aW9uIHNob3dNb2RhbCgpIHtcblx0bW9kYWwuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG5cdG1vZGFsLmNsYXNzTGlzdC5hZGQoJ21vZGFsLWFuaW1hdGlvbicpO1xuXHRzZXRUaW1lb3V0KCgpID0+IHtcblx0XHRtb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdtb2RhbC1hbmltYXRpb24nKTtcblx0fSwgNDAwKTtcbn1cblxuY2xlYXJCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbGVhckFsbElucHV0cyk7XG5cbnNlbmRCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuXHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdGNoZWNrSW5wdXRzVmFsdWUoSW5wdXRzKTtcblx0Y2hlY2tQaG90b0lucHV0KHByb2ZpbFBob3RvKTtcblx0Y2hlY2tWb2l2b2Rlc2hpcElucHV0KHZvaXZvZGVzaGlwKTtcblx0Y2hlY2tSZWd1bGF0aW9ucyhyZWd1bGF0aW9ucyk7XG5cdGNoZWNrTGVuZ3RoKHBlc2VsLCAxMSk7XG5cdGNoZWNrTGVuZ3RoKHBob25lTnVtYmVyLCA5KTtcblx0dmFsaWRaaXBDb2RlKHppcENvZGUpO1xuXHR2YWxpZE1haWwobWFpbCk7XG5cdHZhbGlkTGV0dGVycyhbZmlyc3ROYW1lLCBsYXN0TmFtZSwgY2l0eV0pO1xuXHR2YWxpZE51bWJlcnMoZmxhdE51bWJlcik7XG5cdGNoZWNrRXJyb3JzKCk7XG59KTtcblxuY2xvc2VNb2RhbEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsZWFyQWxsSW5wdXRzKTtcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PlxuXHRlLnRhcmdldCA9PT0gbW9kYWwgPyAobW9kYWwuc3R5bGUuZGlzcGxheSA9ICdub25lJykgOiBmYWxzZVxuKTtcbiJdfQ==
