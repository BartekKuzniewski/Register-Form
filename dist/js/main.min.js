"use strict";var firstName=document.querySelector("#first-name"),lastName=document.querySelector("#last-name"),pesel=document.querySelector("#pesel"),street=document.querySelector("#street"),flatNumber=document.querySelector("#flat-number"),city=document.querySelector("#city"),zipCode=document.querySelector("#zip"),phoneNumber=document.querySelector("#phone-number"),mail=document.querySelector("#mail"),profilPhoto=document.querySelector("#profil-photo"),voivodeship=document.querySelector("#voivodeship"),regulations=document.querySelector("#regulations"),Inputs=[firstName,lastName,pesel,street,flatNumber,city,zipCode,phoneNumber,mail],sendBtn=document.querySelector(".send"),clearBtn=document.querySelector(".clear"),closeModalBtn=document.querySelector(".close"),modal=document.querySelector(".modal-shadow");function clearAllInputs(e){e.preventDefault(),profilPhoto.value="",regulations.checked=!1,0!==voivodeship&&(voivodeship.value=0,clearError(voivodeship)),[firstName,lastName,pesel,street,flatNumber,city,zipCode,phoneNumber,mail,profilPhoto,regulations].forEach(function(e){e.value="",clearError(e)}),modal.style.display="none"}function checkInputsValue(e){e.forEach(function(e){""===e.value?showError(e,e.placeholder):clearError(e)})}function showError(e,r){var e=e.parentElement,t=e.querySelector(".error-text");e.classList.add("error"),t.textContent=r}function clearError(e){e.parentElement.classList.remove("error")}function checkPhotoInput(e){var r=e.parentElement,t=r.querySelector(".error-text");""===e.value?(r.classList.add("error"),t.textContent="Wybierz zdjęcie"):r.classList.remove("error")}function checkVoivodeshipInput(e){var r=e.parentElement,t=r.querySelector(".error-text");"0"===e.value?(r.classList.add("error"),t.textContent="Wybierz województwo"):r.classList.remove("error")}function checkRegulations(e){e.parentElement.querySelector(".error-text");e.checked?clearError(e):showError(e,e.placeholder)}function checkLength(e,r){e.value.length<r?showError(e,"".concat(e.previousElementSibling.textContent," musi składać się z ").concat(r," cyfr")):e.value.length>r&&showError(e,"".concat(e.previousElementSibling.textContent," jest za długi"))}function validZipCode(e){e.value.match(/^\d\d-\d\d\d$/)?clearError(e):showError(e,"".concat(e.previousElementSibling.textContent," powinieć wyglądać tak: NN-NNN"))}function validMail(e){/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,3}))$/.test(e.value)?clearError(e):showError(e,"E-mail jest niepoprawny")}function validLetters(e){var r=/^[A-Za-z]+$/;e.forEach(function(e){e.value.match(r)?clearError(e):""===e.value?showError(e,e.placeholder):showError(e,"".concat(e.previousElementSibling.textContent," nie może zawierać cyfr"))})}function validNumbers(e){e.value.match(/^\d+$/)?clearError(e):""===e.value?showError(e,e.placeholder):showError(e,"".concat(e.previousElementSibling.textContent," nie może zawierać liter"))}function checkErrors(){var e=document.querySelectorAll(".form-box"),r=0;e.forEach(function(e){e.classList.contains("error")&&r++}),0===r&&showModal(),console.log(r)}function showModal(){modal.style.display="block",modal.classList.add("modal-animation"),setTimeout(function(){modal.classList.remove("modal-animation")},400)}clearBtn.addEventListener("click",clearAllInputs),sendBtn.addEventListener("click",function(e){e.preventDefault(),checkInputsValue(Inputs),checkPhotoInput(profilPhoto),checkVoivodeshipInput(voivodeship),checkRegulations(regulations),checkLength(pesel,11),checkLength(phoneNumber,9),validZipCode(zipCode),validMail(mail),validLetters([firstName,lastName,city]),validNumbers(flatNumber),checkErrors()}),closeModalBtn.addEventListener("click",clearAllInputs),window.addEventListener("click",function(e){return e.target===modal&&(modal.style.display="none")});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiZmlyc3ROYW1lIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwibGFzdE5hbWUiLCJwZXNlbCIsInN0cmVldCIsImZsYXROdW1iZXIiLCJjaXR5IiwiemlwQ29kZSIsInBob25lTnVtYmVyIiwibWFpbCIsInByb2ZpbFBob3RvIiwicmVndWxhdGlvbnMiLCJ2b2l2b2Rlc2hpcCIsInZhbHVlIiwiY2xlYXJFcnJvciIsIm1vZGFsIiwiY2xlYXJBbGxJbnB1dHMiLCJlIiwicHJldmVudERlZmF1bHQiLCJjaGVja2VkIiwiY2hlY2tJbnB1dHNWYWx1ZSIsImlucHV0IiwiZm9yRWFjaCIsImZvcm1Cb3giLCJlcnJvclRleHQiLCJzdHlsZSIsImRpc3BsYXkiLCJlbCIsInNob3dFcnJvciIsImNsYXNzTGlzdCIsImNoZWNrVm9pdm9kZXNoaXBJbnB1dCIsInBhcmVudEVsZW1lbnQiLCJhZGQiLCJ0ZXh0Q29udGVudCIsIm1zZyIsInJlbW92ZSIsInByZXZpb3VzRWxlbWVudFNpYmxpbmciLCJ2YWxpZFppcENvZGUiLCJjaGVja1JlZ3VsYXRpb25zIiwidGVzdCIsInBsYWNlaG9sZGVyIiwiY2hlY2tMZW5ndGgiLCJtaW5MZW5ndGgiLCJ2YWxpZExldHRlcnMiLCJpbnB1dHMiLCJsZXR0ZXJzIiwidmFsaWROdW1iZXJzIiwibnVtYmVycyIsIm1hdGNoIiwiY29uY2F0IiwidmFsaWRNYWlsIiwiYWxsSW5wdXRzIiwic2hvd01vZGFsIiwiY29uc29sZSIsImxvZyIsImVycm9yQ291bnRlciIsInNldFRpbWVvdXQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiY29udGFpbnMiLCJjbGVhckJ0biIsImFkZEV2ZW50TGlzdGVuZXIiLCJzZW5kQnRuIiwiSW5wdXRzIiwiY2hlY2tQaG90b0lucHV0IiwiY2hlY2tFcnJvcnMiLCJjbG9zZU1vZGFsQnRuIiwid2luZG93IiwidGFyZ2V0Il0sIm1hcHBpbmdzIjoiYUFBQSxJQUFNQSxVQUFZQyxT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UzVDLGdCQUN4Q2tELE9BQU9OLGlCQUFpQixRQUFTLFNBQUMzQyxHQUFELE9BQ2hDQSxFQUFFa0QsU0FBV3BELFFBQVNBLE1BQU1VLE1BQU1DLFFBQVUiLCJmaWxlIjoibWFpbi5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBmaXJzdE5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZmlyc3QtbmFtZScpO1xuY29uc3QgbGFzdE5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbGFzdC1uYW1lJyk7XG5jb25zdCBwZXNlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNwZXNlbCcpO1xuY29uc3Qgc3RyZWV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3N0cmVldCcpO1xuY29uc3QgZmxhdE51bWJlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNmbGF0LW51bWJlcicpO1xuY29uc3QgY2l0eSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNjaXR5Jyk7XG5jb25zdCB6aXBDb2RlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3ppcCcpO1xuY29uc3QgcGhvbmVOdW1iZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcGhvbmUtbnVtYmVyJyk7XG5jb25zdCBtYWlsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI21haWwnKTtcbmNvbnN0IHByb2ZpbFBob3RvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Byb2ZpbC1waG90bycpO1xuY29uc3Qgdm9pdm9kZXNoaXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjdm9pdm9kZXNoaXAnKTtcbmNvbnN0IHJlZ3VsYXRpb25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3JlZ3VsYXRpb25zJyk7XG5cbmNvbnN0IElucHV0cyA9IFtcblx0Zmlyc3ROYW1lLFxuXHRsYXN0TmFtZSxcblx0cGVzZWwsXG5cdHN0cmVldCxcblx0ZmxhdE51bWJlcixcblx0Y2l0eSxcblx0emlwQ29kZSxcblx0cGhvbmVOdW1iZXIsXG5cdG1haWwsXG5dO1xuXG5jb25zdCBzZW5kQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNlbmQnKTtcbmNvbnN0IGNsZWFyQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNsZWFyJyk7XG5jb25zdCBjbG9zZU1vZGFsQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNsb3NlJyk7XG5cbmNvbnN0IG1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsLXNoYWRvdycpO1xuXG5mdW5jdGlvbiBjbGVhckFsbElucHV0cyhlKSB7XG5cdGUucHJldmVudERlZmF1bHQoKTtcblx0cHJvZmlsUGhvdG8udmFsdWUgPSAnJztcblx0cmVndWxhdGlvbnMuY2hlY2tlZCA9IGZhbHNlO1xuXG5cdGlmICh2b2l2b2Rlc2hpcCAhPT0gMCkge1xuXHRcdHZvaXZvZGVzaGlwLnZhbHVlID0gMDtcblx0XHRjbGVhckVycm9yKHZvaXZvZGVzaGlwKTtcblx0fVxuXG5cdFtcblx0XHRmaXJzdE5hbWUsXG5cdFx0bGFzdE5hbWUsXG5cdFx0cGVzZWwsXG5cdFx0c3RyZWV0LFxuXHRcdGZsYXROdW1iZXIsXG5cdFx0Y2l0eSxcblx0XHR6aXBDb2RlLFxuXHRcdHBob25lTnVtYmVyLFxuXHRcdG1haWwsXG5cdFx0cHJvZmlsUGhvdG8sXG5cdFx0cmVndWxhdGlvbnMsXG5cdF0uZm9yRWFjaCgoaW5wdXQpID0+IHtcblx0XHRpbnB1dC52YWx1ZSA9ICcnO1xuXHRcdGNsZWFyRXJyb3IoaW5wdXQpO1xuXHR9KTtcblxuXHRtb2RhbC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xufVxuXG5mdW5jdGlvbiBjaGVja0lucHV0c1ZhbHVlKGlucHV0KSB7XG5cdGlucHV0LmZvckVhY2goKGVsKSA9PiB7XG5cdFx0aWYgKGVsLnZhbHVlID09PSAnJykge1xuXHRcdFx0c2hvd0Vycm9yKGVsLCBlbC5wbGFjZWhvbGRlcik7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGNsZWFyRXJyb3IoZWwpO1xuXHRcdH1cblx0fSk7XG59XG5cbmZ1bmN0aW9uIHNob3dFcnJvcihpbnB1dCwgbXNnKSB7XG5cdGNvbnN0IGZvcm1Cb3ggPSBpbnB1dC5wYXJlbnRFbGVtZW50O1xuXHRjb25zdCBlcnJvclRleHQgPSBmb3JtQm94LnF1ZXJ5U2VsZWN0b3IoJy5lcnJvci10ZXh0Jyk7XG5cblx0Zm9ybUJveC5jbGFzc0xpc3QuYWRkKCdlcnJvcicpO1xuXHRlcnJvclRleHQudGV4dENvbnRlbnQgPSBtc2c7XG59XG5cbmZ1bmN0aW9uIGNsZWFyRXJyb3IoaW5wdXQpIHtcblx0Y29uc3QgZm9ybUJveCA9IGlucHV0LnBhcmVudEVsZW1lbnQ7XG5cdGZvcm1Cb3guY2xhc3NMaXN0LnJlbW92ZSgnZXJyb3InKTtcbn1cblxuZnVuY3Rpb24gY2hlY2tQaG90b0lucHV0KGlucHV0KSB7XG5cdGNvbnN0IGZvcm1Cb3ggPSBpbnB1dC5wYXJlbnRFbGVtZW50O1xuXHRjb25zdCBlcnJvclRleHQgPSBmb3JtQm94LnF1ZXJ5U2VsZWN0b3IoJy5lcnJvci10ZXh0Jyk7XG5cblx0aWYgKGlucHV0LnZhbHVlID09PSAnJykge1xuXHRcdGZvcm1Cb3guY2xhc3NMaXN0LmFkZCgnZXJyb3InKTtcblx0XHRlcnJvclRleHQudGV4dENvbnRlbnQgPSBgV3liaWVyeiB6ZGrEmWNpZWA7XG5cdH0gZWxzZSB7XG5cdFx0Zm9ybUJveC5jbGFzc0xpc3QucmVtb3ZlKCdlcnJvcicpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIGNoZWNrVm9pdm9kZXNoaXBJbnB1dChpbnB1dCkge1xuXHRjb25zdCBmb3JtQm94ID0gaW5wdXQucGFyZW50RWxlbWVudDtcblx0Y29uc3QgZXJyb3JUZXh0ID0gZm9ybUJveC5xdWVyeVNlbGVjdG9yKCcuZXJyb3ItdGV4dCcpO1xuXG5cdGlmIChpbnB1dC52YWx1ZSA9PT0gJzAnKSB7XG5cdFx0Zm9ybUJveC5jbGFzc0xpc3QuYWRkKCdlcnJvcicpO1xuXHRcdGVycm9yVGV4dC50ZXh0Q29udGVudCA9IGBXeWJpZXJ6IHdvamV3w7NkenR3b2A7XG5cdH0gZWxzZSB7XG5cdFx0Zm9ybUJveC5jbGFzc0xpc3QucmVtb3ZlKCdlcnJvcicpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIGNoZWNrUmVndWxhdGlvbnMoaW5wdXQpIHtcblx0Y29uc3QgZm9ybUJveCA9IGlucHV0LnBhcmVudEVsZW1lbnQ7XG5cdGNvbnN0IGVycm9yVGV4dCA9IGZvcm1Cb3gucXVlcnlTZWxlY3RvcignLmVycm9yLXRleHQnKTtcblxuXHRpZiAoIWlucHV0LmNoZWNrZWQpIHtcblx0XHRzaG93RXJyb3IoaW5wdXQsIGlucHV0LnBsYWNlaG9sZGVyKTtcblx0fSBlbHNlIHtcblx0XHRjbGVhckVycm9yKGlucHV0KTtcblx0fVxufVxuXG5mdW5jdGlvbiBjaGVja0xlbmd0aChpbnB1dCwgbWluTGVuZ3RoKSB7XG5cdGlmIChpbnB1dC52YWx1ZS5sZW5ndGggPCBtaW5MZW5ndGgpIHtcblx0XHRzaG93RXJyb3IoXG5cdFx0XHRpbnB1dCxcblx0XHRcdGAke2lucHV0LnByZXZpb3VzRWxlbWVudFNpYmxpbmcudGV4dENvbnRlbnR9IG11c2kgc2vFgmFkYcSHIHNpxJkgeiAke21pbkxlbmd0aH0gY3lmcmBcblx0XHQpO1xuXHR9IGVsc2UgaWYgKGlucHV0LnZhbHVlLmxlbmd0aCA+IG1pbkxlbmd0aCkge1xuXHRcdHNob3dFcnJvcihcblx0XHRcdGlucHV0LFxuXHRcdFx0YCR7aW5wdXQucHJldmlvdXNFbGVtZW50U2libGluZy50ZXh0Q29udGVudH0gamVzdCB6YSBkxYJ1Z2lgXG5cdFx0KTtcblx0fVxufVxuXG5mdW5jdGlvbiB2YWxpZFppcENvZGUoaW5wdXQpIHtcblx0aWYgKCFpbnB1dC52YWx1ZS5tYXRjaCgvXlxcZFxcZC1cXGRcXGRcXGQkLykpIHtcblx0XHRzaG93RXJyb3IoXG5cdFx0XHRpbnB1dCxcblx0XHRcdGAke2lucHV0LnByZXZpb3VzRWxlbWVudFNpYmxpbmcudGV4dENvbnRlbnR9IHBvd2luaWXEhyB3eWdsxIVkYcSHIHRhazogTk4tTk5OYFxuXHRcdCk7XG5cdH0gZWxzZSB7XG5cdFx0Y2xlYXJFcnJvcihpbnB1dCk7XG5cdH1cbn1cblxuZnVuY3Rpb24gdmFsaWRNYWlsKG1haWwpIHtcblx0Y29uc3QgcmUgPVxuXHRcdC9eKChbXjw+KClcXFtcXF1cXFxcLiw7Olxcc0BcIl0rKFxcLltePD4oKVxcW1xcXVxcXFwuLDs6XFxzQFwiXSspKil8KFwiLitcIikpQCgoXFxbWzAtOV17MSwzfVxcLlswLTldezEsM31cXC5bMC05XXsxLDN9XFwuWzAtOV17MSwzfVxcXSl8KChbYS16QS1aXFwtMC05XStcXC4pK1thLXpBLVpdezIsM30pKSQvO1xuXG5cdGlmIChyZS50ZXN0KG1haWwudmFsdWUpKSB7XG5cdFx0Y2xlYXJFcnJvcihtYWlsKTtcblx0fSBlbHNlIHtcblx0XHRzaG93RXJyb3IobWFpbCwgJ0UtbWFpbCBqZXN0IG5pZXBvcHJhd255Jyk7XG5cdH1cbn1cblxuZnVuY3Rpb24gdmFsaWRMZXR0ZXJzKGlucHV0cykge1xuXHRjb25zdCBsZXR0ZXJzID0gL15bQS1aYS16XSskLztcblx0aW5wdXRzLmZvckVhY2goKGlucHV0KSA9PiB7XG5cdFx0aWYgKGlucHV0LnZhbHVlLm1hdGNoKGxldHRlcnMpKSB7XG5cdFx0XHRjbGVhckVycm9yKGlucHV0KTtcblx0XHR9IGVsc2UgaWYgKGlucHV0LnZhbHVlID09PSAnJykge1xuXHRcdFx0c2hvd0Vycm9yKGlucHV0LCBpbnB1dC5wbGFjZWhvbGRlcik7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHNob3dFcnJvcihcblx0XHRcdFx0aW5wdXQsXG5cdFx0XHRcdGAke2lucHV0LnByZXZpb3VzRWxlbWVudFNpYmxpbmcudGV4dENvbnRlbnR9IG5pZSBtb8W8ZSB6YXdpZXJhxIcgY3lmcmBcblx0XHRcdCk7XG5cdFx0fVxuXHR9KTtcbn1cblxuZnVuY3Rpb24gdmFsaWROdW1iZXJzKGlucHV0KSB7XG5cdGNvbnN0IG51bWJlcnMgPSAvXlxcZCskLztcblxuXHRpZiAoaW5wdXQudmFsdWUubWF0Y2gobnVtYmVycykpIHtcblx0XHRjbGVhckVycm9yKGlucHV0KTtcblx0fSBlbHNlIGlmIChpbnB1dC52YWx1ZSA9PT0gJycpIHtcblx0XHRzaG93RXJyb3IoaW5wdXQsIGlucHV0LnBsYWNlaG9sZGVyKTtcblx0fSBlbHNlIHtcblx0XHRzaG93RXJyb3IoXG5cdFx0XHRpbnB1dCxcblx0XHRcdGAke2lucHV0LnByZXZpb3VzRWxlbWVudFNpYmxpbmcudGV4dENvbnRlbnR9IG5pZSBtb8W8ZSB6YXdpZXJhxIcgbGl0ZXJgXG5cdFx0KTtcblx0fVxufVxuXG5mdW5jdGlvbiBjaGVja0Vycm9ycygpIHtcblx0Y29uc3QgYWxsSW5wdXRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmZvcm0tYm94Jyk7XG5cdGxldCBlcnJvckNvdW50ZXIgPSAwO1xuXG5cdGFsbElucHV0cy5mb3JFYWNoKChpbnB1dCkgPT4ge1xuXHRcdGlmIChpbnB1dC5jbGFzc0xpc3QuY29udGFpbnMoJ2Vycm9yJykpIHtcblx0XHRcdGVycm9yQ291bnRlcisrO1xuXHRcdH1cblx0fSk7XG5cblx0aWYgKGVycm9yQ291bnRlciA9PT0gMCkge1xuXHRcdHNob3dNb2RhbCgpO1xuXHR9XG5cdGNvbnNvbGUubG9nKGVycm9yQ291bnRlcik7XG59XG5cbmZ1bmN0aW9uIHNob3dNb2RhbCgpIHtcblx0bW9kYWwuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG5cdG1vZGFsLmNsYXNzTGlzdC5hZGQoJ21vZGFsLWFuaW1hdGlvbicpO1xuXHRzZXRUaW1lb3V0KCgpID0+IHtcblx0XHRtb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdtb2RhbC1hbmltYXRpb24nKTtcblx0fSwgNDAwKTtcbn1cblxuY2xlYXJCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbGVhckFsbElucHV0cyk7XG5cbnNlbmRCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuXHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdGNoZWNrSW5wdXRzVmFsdWUoSW5wdXRzKTtcblx0Y2hlY2tQaG90b0lucHV0KHByb2ZpbFBob3RvKTtcblx0Y2hlY2tWb2l2b2Rlc2hpcElucHV0KHZvaXZvZGVzaGlwKTtcblx0Y2hlY2tSZWd1bGF0aW9ucyhyZWd1bGF0aW9ucyk7XG5cdGNoZWNrTGVuZ3RoKHBlc2VsLCAxMSk7XG5cdGNoZWNrTGVuZ3RoKHBob25lTnVtYmVyLCA5KTtcblx0dmFsaWRaaXBDb2RlKHppcENvZGUpO1xuXHR2YWxpZE1haWwobWFpbCk7XG5cdHZhbGlkTGV0dGVycyhbZmlyc3ROYW1lLCBsYXN0TmFtZSwgY2l0eV0pO1xuXHR2YWxpZE51bWJlcnMoZmxhdE51bWJlcik7XG5cdGNoZWNrRXJyb3JzKCk7XG59KTtcblxuY2xvc2VNb2RhbEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsZWFyQWxsSW5wdXRzKTtcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PlxuXHRlLnRhcmdldCA9PT0gbW9kYWwgPyAobW9kYWwuc3R5bGUuZGlzcGxheSA9ICdub25lJykgOiBmYWxzZVxuKTtcbiJdfQ==
